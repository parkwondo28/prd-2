# 프로젝트 구조 제안 및 개발 우선순위

## 1. 프로젝트 구조 제안

### 기술 스택

- **프레임워크**: Next.js 14 (App Router)
- **언어**: TypeScript
- **스타일링**: Tailwind CSS
- **지도 API**: 네이버 지도 API
- **상태 관리**: React Context API (초기) / Zustand (필요시)
- **폼 관리**: React Hook Form
- **데이터 페칭**: React Query (TanStack Query)
- **UI 컴포넌트**: shadcn/ui (선택사항)

### 폴더 구조

```
prd-2/
├── app/                          # Next.js App Router
│   ├── layout.tsx               # 루트 레이아웃
│   ├── page.tsx                 # 홈 페이지 (지도)
│   ├── cafe/
│   │   ├── [id]/
│   │   │   └── page.tsx        # 카페 상세 페이지
│   │   └── new/
│   │       └── page.tsx        # 카페 등록 페이지
│   ├── review/
│   │   └── [cafeId]/
│   │       └── page.tsx        # 리뷰 작성 페이지
│   ├── etiquette/
│   │   └── page.tsx            # 이용 에티켓 페이지
│   └── api/                     # API 라우트
│       ├── cafes/
│       │   ├── route.ts        # 카페 목록/생성
│       │   └── [id]/
│       │       └── route.ts   # 카페 상세/수정
│       └── reviews/
│           └── route.ts       # 리뷰 생성
├── components/                   # 재사용 컴포넌트
│   ├── map/
│   │   ├── MapContainer.tsx    # 지도 컨테이너
│   │   └── CafeMarker.tsx     # 카페 마커
│   ├── filter/
│   │   └── WorkEnvironmentFilter.tsx  # 작업 환경 필터
│   ├── cafe/
│   │   ├── CafeCard.tsx       # 카페 카드
│   │   ├── CafeDetail.tsx     # 카페 상세 정보
│   │   └── CafeInfoForm.tsx  # 카페 정보 입력 폼
│   ├── review/
│   │   ├── ReviewList.tsx     # 리뷰 목록
│   │   └── ReviewForm.tsx    # 리뷰 작성 폼
│   └── ui/                     # 기본 UI 컴포넌트
│       ├── Button.tsx
│       ├── Input.tsx
│       └── Modal.tsx
├── lib/                         # 유틸리티 및 설정
│   ├── api/
│   │   └── client.ts          # API 클라이언트
│   ├── hooks/
│   │   ├── useMap.ts          # 지도 훅
│   │   └── useCafe.ts         # 카페 데이터 훅
│   ├── utils/
│   │   └── format.ts          # 포맷팅 유틸
│   └── types/
│       └── index.ts            # TypeScript 타입 정의
├── public/                      # 정적 파일
│   └── images/
├── docs/                        # 문서
│   └── task/                   # 작업 문서
└── package.json
```

### 필요한 라이브러리 목록

#### 필수 라이브러리

```json
{
  "dependencies": {
    "next": "^14.0.0",
    "react": "^18.0.0",
    "react-dom": "^18.0.0",
    "typescript": "^5.0.0",
    "tailwindcss": "^3.4.0",
    "@tanstack/react-query": "^5.0.0",
    "react-hook-form": "^7.48.0",
    "zod": "^3.22.0",
    "@hookform/resolvers": "^3.3.0"
  },
  "devDependencies": {
    "@types/node": "^20.0.0",
    "@types/react": "^18.0.0",
    "@types/react-dom": "^18.0.0",
    "autoprefixer": "^10.4.0",
    "postcss": "^8.4.0",
    "eslint": "^8.0.0",
    "eslint-config-next": "^14.0.0"
  }
}
```

#### 선택적 라이브러리

- `zustand`: 상태 관리 (필요시)
- `date-fns`: 날짜 포맷팅
- `react-naver-maps`: 네이버 지도 React 컴포넌트 (또는 직접 구현)

---

## 2. 개발 우선순위

### 핵심 기능 분석

PRD에서 정의한 핵심 기능:

1. **작업 환경 상세 필터**: 콘센트 위치, 와이파이 속도, 배경음악 크기별 맞춤 검색
2. **작업자 전용 한 줄 리뷰**: "책상이 넓음", "조명이 밝음" 등 실제 작업자들의 생생한 후기
3. **에티켓 캠페인**: 카페 점주와 상생하기 위한 '이용 수칙' 가이드라인 제공

### 개발 순서 제안

#### 1순위: 지도 기반 카페 탐색 + 작업 환경 필터 (예상 소요 시간: 3-4일)

**이유**:

- 사용자 플로우의 시작점
- Definition of Done의 필수 조건
- 다른 기능들의 기반이 됨

**구현 내용**:

- 네이버 지도 API 연동
- 지도 위 카페 마커 표시
- 작업 환경 필터 UI (콘센트, 와이파이, 소음)
- 필터 적용 시 지도 마커 필터링
- 카페 상세 페이지 기본 구조

#### 2순위: 카페 정보 수정 및 리뷰 작성 기능 (예상 소요 시간: 2-3일)

**이유**:

- Definition of Done의 필수 조건
- 사용자 참여를 통한 데이터 확보
- 커뮤니티 활성화의 기반

**구현 내용**:

- 카페 정보 수정 요청 기능
- 리뷰 작성 폼 (한 줄 리뷰)
- 리뷰 목록 표시
- 리뷰 데이터 저장 및 조회

#### 3순위: 이용 에티켓 화면 (예상 소요 시간: 1일)

**이유**:

- Definition of Done의 필수 조건
- 상대적으로 단순한 정적 콘텐츠
- 카페 점주와의 상생을 위한 핵심 기능

**구현 내용**:

- 에티켓 가이드 페이지
- 카페 상세 페이지에서 에티켓 링크 제공
- 에티켓 확인 체크박스 (선택사항)

### 예상 총 소요 시간

- **1순위 기능**: 3-4일
- **2순위 기능**: 2-3일
- **3순위 기능**: 1일
- **통합 테스트 및 버그 수정**: 1-2일
- **총 예상 소요 시간**: 7-10일

---

## 3. 다음 단계

첫 번째 기능(지도 기반 카페 탐색 + 작업 환경 필터) 개발을 시작합니다.
